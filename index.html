<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Get Annie Chan</title>

  <!-- Link to external CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="favicon.png" />
</head>
<body>
  <div class="container">
    <h1>Welcome to Get Annie Chan 🌸</h1>

    <!-- Main Download Button -->
    <a id="downloadButton" href="annie_chan.png" onclick="handleDownload(event);">
      <button class="default-btn">Get Annie Chan</button>
    </a>

    <!-- Extras Tab (Still Below Main Box) -->
    <a href="extras.html" class="extras-link">Extras</a>
  </div>

  <!-- Credits & Fair Use (Now Under Main Box, No Extra Box) -->
  <div class="credits-section">
    <h2>Credits & Fair Use</h2>
    <p><strong>Get Annie Chan</strong></p>
    <p>(Website by GAC) - Published by GAC / For Entertainment Purposes Only</p>
    <p>Maintained & Updated by GAC Web Division</p>
    <p>Version 2.0 – 2025 Edition - Produced at GAC Web Division</p>
    <p><strong>"This artwork speaks to me, and the rest of the world should see it. Support the artist."</strong></p>
    <p>“Get Annie Chan” is a tribute project. GAC does not claim ownership of any artwork used. All rights belong to their respective creators.</p>
    <p><strong>Fair Use Disclaimer:</strong> This site falls under fair use as a <strong>non-commercial, transformative tribute.</strong> If the original creator wishes for its removal, it will be taken down immediately.</p>

    <!-- Hidden Tribute to Sweet Girl -->
    <!-- Rest in peace, Sweet Girl. 🐋 -->
  </div>

  <!-- Footer -->
  <p class="footer">Website made with ❤️</p>
  <p class="copyright">© 2025 GAC</p>
  <p class="version">Version 2.0 Beta 6</p>
  <p style="font-size: 12px; color: #777; margin-top: 10px;">
    Peace & <a href="https://www.youtube.com/@g99ct" target="_blank" style="text-decoration: none; color: inherit;">Love</a>
  </p>

  <!-- JavaScript -->
  <script>
    // Register Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log("Service Worker Registered"))
        .catch(error => console.error("Service Worker Error:", error));
    }

    // Haptic Feedback
    function triggerHapticFeedback() {
      if ("vibrate" in navigator) {
        navigator.vibrate(50);
      }
    }

    // Detect iOS Version
    function getIOSVersion() {
      let match = navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);
      return match ? parseFloat(match[1] + "." + match[2]) : null;
    }

    // Handle Download Button Behavior
    function handleDownload(event) {
      let iosVersion = getIOSVersion();

      if (iosVersion && iosVersion >= 11) {
        const link = document.createElement("a");
        link.href = "annie_chan.png";
        link.download = "annie_chan.png";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } else {
        window.open("annie_chan.png", "_blank");
      }

      triggerHapticFeedback();
      event.preventDefault();
    }
  </script>
</body>
</html>
